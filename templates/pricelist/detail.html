{{define "pricelist-detail"}}
{{template "app-shell" .}}
{{end}}

{{define "pricelist-detail-content"}}
<div class="page-content detail-layout" data-page-css="/assets/css/centymo/pricelist-detail.css?v={{.CacheVersion}}">
    {{/* --- HTMX Tab Buttons --- */}}
    <div class="detail-tabs">
        {{template "tabs" (dict "Items" .TabItems "ActiveTab" .ActiveTab "Variant" "default" "ID" "pricelist-detail-tabs")}}
    </div>

    {{/* --- Tab Content Area --- */}}
    <div id="tabContent" class="detail-body">
        {{if eq .ActiveTab "basic"}}
        {{template "pricelist-detail-basic" .}}
        {{else if eq .ActiveTab "prices"}}
        {{template "pricelist-detail-prices" .}}
        {{end}}
    </div>
</div>
{{end}}

{{/* Basic Information Tab */}}
{{define "pricelist-detail-basic"}}
<div class="tab-scroll">
    <h4 class="detail-section-title">{{.Labels.Detail.BasicInfo}}</h4>
    <div class="detail-info-grid">
        <div class="detail-info-item">
            <span class="detail-info-label">{{.Labels.Form.Name}}</span>
            <span class="detail-info-value">{{.PriceList.GetName}}</span>
        </div>
        <div class="detail-info-item">
            <span class="detail-info-label">{{.Labels.Form.Description}}</span>
            <span class="detail-info-value">{{if .PriceList.GetDescription}}{{.PriceList.GetDescription}}{{else}}—{{end}}</span>
        </div>
        <div class="detail-info-item">
            <span class="detail-info-label">{{.Labels.Form.DateStart}}</span>
            <span class="detail-info-value">{{.PriceList.GetDateStartString}}</span>
        </div>
        <div class="detail-info-item">
            <span class="detail-info-label">{{.Labels.Form.DateEnd}}</span>
            <span class="detail-info-value">{{if .PriceList.GetDateEndString}}{{.PriceList.GetDateEndString}}{{else}}—{{end}}</span>
        </div>
        <div class="detail-info-item">
            <span class="detail-info-label">{{.Labels.Columns.Status}}</span>
            <span>
                <span class="badge badge--{{if .PriceList.GetActive}}success{{else}}warning{{end}}">
                    {{if .PriceList.GetActive}}Active{{else}}Inactive{{end}}
                </span>
            </span>
        </div>
    </div>
</div>
{{end}}

{{/* Prices Tab */}}
{{define "pricelist-detail-prices"}}
{{if .PricesTable}}
<div class="page-content page-content--table">
    {{template "table-card" .PricesTable}}
</div>
{{else}}
<div class="coming-soon-panel">
    <div class="coming-soon-title">No prices configured</div>
    <p class="coming-soon-text">Add products to this price list to configure pricing.</p>
</div>
{{end}}
{{end}}
