{{define "pricelist-detail"}}
{{template "app-shell" .}}
{{end}}

{{define "pricelist-detail-content"}}
<div class="page-content">
    {{/* Back link */}}
    <div style="margin-bottom: var(--spacing-md);">
        <a href="/app/price-lists/list/active" class="btn btn--ghost btn--sm">
            ← Back to Price Lists
        </a>
    </div>

    {{/* Tab navigation */}}
    <div class="tabs">
        <div class="tabs__list" role="tablist">
            {{range .Tabs}}
            <button class="tabs__tab{{if .Active}} tabs__tab--active{{end}}"
                    role="tab"
                    hx-get="{{.URL}}"
                    hx-target="#tab-content"
                    hx-swap="innerHTML"
                    aria-selected="{{.Active}}">
                {{.Label}}
            </button>
            {{end}}
        </div>
    </div>

    {{/* Tab content */}}
    <div id="tab-content" class="tabs__panel">
        {{if eq .ActiveTab "basic"}}
        {{template "pricelist-detail-basic" .}}
        {{else if eq .ActiveTab "prices"}}
        {{template "pricelist-detail-prices" .}}
        {{end}}
    </div>
</div>
{{end}}

{{/* Basic Information Tab */}}
{{define "pricelist-detail-basic"}}
<div class="detail-card">
    <div class="detail-header">
        <h3>{{.Labels.Detail.BasicInfo}}</h3>
    </div>
    <div class="detail-grid">
        <div class="detail-field">
            <label>{{.Labels.Form.Name}}</label>
            <span>{{.PriceList.GetName}}</span>
        </div>
        <div class="detail-field">
            <label>{{.Labels.Form.Description}}</label>
            <span>{{if .PriceList.GetDescription}}{{.PriceList.GetDescription}}{{else}}—{{end}}</span>
        </div>
        <div class="detail-field">
            <label>{{.Labels.Form.DateStart}}</label>
            <span>{{.PriceList.GetDateStartString}}</span>
        </div>
        <div class="detail-field">
            <label>{{.Labels.Form.DateEnd}}</label>
            <span>{{if .PriceList.GetDateEndString}}{{.PriceList.GetDateEndString}}{{else}}—{{end}}</span>
        </div>
        <div class="detail-field">
            <label>{{.Labels.Columns.Status}}</label>
            <span class="badge badge--{{if .PriceList.GetActive}}success{{else}}warning{{end}}">
                {{if .PriceList.GetActive}}Active{{else}}Inactive{{end}}
            </span>
        </div>
    </div>
</div>
{{end}}

{{/* Prices Tab */}}
{{define "pricelist-detail-prices"}}
{{if .PricesTable}}
<div class="page-content page-content--table">
    {{template "table-card" .PricesTable}}
</div>
{{else}}
<div class="detail-card">
    <div style="padding: var(--spacing-xl); color: var(--color-text-muted); text-align: center;">
        <p>No prices configured for this price list.</p>
        <p style="margin-top: var(--spacing-sm); font-size: var(--font-size-sm);">
            Add products to this price list to configure pricing.
        </p>
    </div>
</div>
{{end}}
{{end}}
